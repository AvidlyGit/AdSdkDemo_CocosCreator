{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\UPLTV.js"],"names":["upltvoc","require","upltva","isShowLog","printLog","msg","undefined","upltv","upltvbridge","cc","sys","os","OS_ANDROID","printJsLog","OS_IOS","isOnlineReportEnable","isOnlineDebugReportEnable","onlineReportCall","name","cpid","onlineDebugReport","functionNames","handleVokeParams","params","startpos","indexOf","substr","endpos","callname","substring","cpadid","message","canreport","Function_Receive_Callback","Function_Reward_DidLoadFail","ltvMap","rewardLoadFailCall","resetRewardLoadCallback","Function_Reward_DidLoadSuccess","rewardLoadSuccessCall","Function_Reward_DidOpen","call","rewardShowCall","AdEventType","VIDEO_EVENT_DID_SHOW","Function_Reward_DidClick","VIDEO_EVENT_DID_CLICK","Function_Reward_DidClose","VIDEO_EVENT_DID_CLOSE","Function_Reward_DidGivien","VIDEO_EVENT_DID_GIVEN_REWARD","Function_Reward_DidAbandon","VIDEO_EVENT_DID_ABANDON_REWARD","Function_Interstitial_DidLoadFail","k","v","get","interstitialLoadFailCall","remove","Function_Interstitial_DidLoadSuccess","interstitialLoadSuccessCall","Function_Interstitial_Didshow","callReport","interstitialShowCall","INTERSTITIAL_EVENT_DID_SHOW","Function_Interstitial_Didclose","INTERSTITIAL_EVENT_DID_CLOSE","Function_Interstitial_Didclick","INTERSTITIAL_EVENT_DID_CLICK","Function_Banner_DidRemove","bannerEventCall","BANNER_EVENT_DID_REMOVED","Function_Banner_DidClick","BANNER_EVENT_DID_CLICK","Function_Banner_DidShow","BANNER_EVENT_DID_SHOW","Function_Icon_DidLoad","iconEventCall","ICON_EVENT_DID_LOAD","Function_Icon_DidLoadFail","ICON_EVENT_DID_LOADFAIL","Function_Icon_DidShow","ICON_EVENT_DID_SHOW","Function_Icon_DidClick","ICON_EVENT_DID_CLICK","Function_ExitAd_DidShow","backPressedCall","EXITAD_EVENT_DID_SHOW","Function_ExitAd_DidClick","EXITAD_EVENT_DID_CLICK","Function_ExitAd_DidClickMore","EXITAD_EVENT_DID_CLICKMORE","Function_ExitAd_DidExit","EXITAD_EVENT_DID_EXIT","Function_ExitAd_DidCancel","EXITAD_EVENT_DID_CANCEL","map","Object","length","size","put","key","value","exist","print","str","each","test","log","loadJsBridgeObject","bridgeInterface","initSdkSuccessed","initVokeCall","initSdkCallback","msg1","vokeMethod","vokeILReadyMethod","cpPlaceId","r","handleILReadyMethod","rr","intSdk","zone","callback","vokecall","setShowLog","initIosSDK","initAndroidSDK","initAbtConfigJson","gameAccountId","isCompleteTask","isPaid","promotionChannelName","gender","age","tags","tagstring","Array","count","i","initIosAbtConfigJson","initAndroidAbtConfigJson","getAbtConfig","getIosAbtConfig","getAndroidAbtConfig","showRewardDebugUI","showIosRewardDebugUI","showAndroidRewardDebugUI","setRewardVideoLoadCallback","loadsuccess","locadfail","setIosRewardVideoLoadCallback","setAndroidRewardVideoLoadCallback","setRewardVideoShowCallback","showCall","isRewardReady","isIosRewardReady","isAndroidRewardReady","showRewardVideo","showIosRewardVideo","showAndroidRewardVideo","isInterstitialReadyAsyn","isIosInterstitialReadyAsyn","isAndroidInterstitialReadyAsyn","isInterstitialReady","isIosInterstitialReady","isAndroidInterstitialReady","showInterstitialAd","showIosInterstitialAd","showAndroidInterstitialAd","setInterstitialLoadCallback","setIosInterstitialLoadCallback","setAndroidInterstitialLoadCallback","setInterstitialShowCallback","showInterstitialDebugUI","showIosInterstitialDebugUI","showAndroidInterstitialDebugUI","removeBannerAdAt","removeIosBannerAdAt","removeAndroidBannerAdAt","showBannerAdAtTop","showIosBannerAdAtTop","showAndroidBannerAdAtTop","showBannerAdAtBottom","showIosBannerAdAtBottom","showAndroidBannerAdAtBottom","hideBannerAdAtTop","hideIosBannerAdAtTop","hideAndroidBannerAdAtTop","hideBannerAdAtBottom","hideIosBannerAdAtBottom","hideAndroidBannerAdAtBottom","setTopBannerPadingForIphoneX","padding","setIosTopBannerPading","setBannerShowCallback","bannerCall","setIconCallback","iconCall","showIconAd","x","y","width","height","rotationAngle","showIosIconAdAt","removeIconAd","removeIosIconAdAt","loadAdsByManual","loadIosAdsByManual","loadAndroidAdsByManual","exitApp","exitIosApp","exitAndroidApp","setManifestPackageName","pkg","setAndroidManifestPackageName","onBackPressed","onAndroidBackPressed","setCustomerId","androidid","setAndroidCustomerId","setBackPressedCallback","backCall","updateAccessPrivacyInfoStatus","gdprPermissionEnumValue","GDPRPermissionEnum","UPAccessPrivacyInfoStatusUnkown","UPAccessPrivacyInfoStatusAccepted","UPAccessPrivacyInfoStatusDefined","updateAndroidAccessPrivacyInfoStatus","updateIosAccessPrivacyInfoStatus","getAccessPrivacyInfoStatus","status","getAndroidAccessPrivacyInfoStatus","getIosAccessPrivacyInfoStatus","notifyAccessPrivacyInfoStatus","functionId","callId","notifyAndroidAccessPrivacyInfoStatus","notifyIosAccessPrivacyInfoStatus","isEuropeanUnionUser","isAndroidEuropeanUnionUser","isIosEuropeanUnionUser","reportIvokePluginMethodReceive","reportRDShowDid","reportRDRewardClick","reportRDRewardClose","reportRDRewardGiven","reportRDRewardCancel","reportILShowDid","reportILClick","reportILClose","javaCall","module","exports"],"mappings":"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","file":"UPLTV.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["//在使用的地方添加以下两行代码即可\r\n//var upltv = require(\"UPLTV\").upltv;\r\n//cc.bridgeInterface = require(\"UPLTV\").bridgeInterface;\r\n\r\nvar upltvoc = require(\"UPLTVIos\");\r\nvar upltva = require(\"UPLTVAndroid\");\r\n\r\nvar isShowLog = false;\r\n\r\nvar printLog = function(msg) {\r\n    // cc.log(\"===> js call printJsLog() \" + (upltv));\r\n    // cc.log(\"===> js call printJsLog() \" + (upltv.upltvbridge));\r\n    if (undefined != msg && null != msg && isShowLog && upltv != undefined && upltv.upltvbridge != null ) {\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            upltv.upltvbridge.printJsLog(msg);\r\n        }\r\n        else if (cc.sys.os === cc.sys.OS_IOS) {\r\n            upltv.upltvbridge.printJsLog(msg);\r\n        }\r\n    }\r\n};\r\n\r\nvar isOnlineReportEnable = function() {\r\n    if (upltv != undefined) {\r\n        return upltv.isOnlineDebugReportEnable();\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n\r\nvar onlineReportCall = function(name, msg, cpid) {\r\n    if (upltv != undefined) {\r\n        if (cpid != undefined) {\r\n            upltv.onlineDebugReport(name, msg, cpid);\r\n        }\r\n        else {\r\n            upltv.onlineDebugReport(name, msg);\r\n        }\r\n    }\r\n}\r\n\r\nvar functionNames = {\r\n\r\n    handleVokeParams : function(params) {\r\n        //printLog(\"===> js handleVokeParams: \" + params);\r\n        if (undefined == params || null == params || typeof params != \"string\") {\r\n            return;\r\n        }\r\n\r\n        var startpos = params.indexOf(\":\");\r\n        var substr = null;\r\n        if (startpos <= 0) {\r\n            return;\r\n        }\r\n\r\n        substr = params.substr(startpos + 1);\r\n        var endpos = substr.indexOf(\",\");\r\n        var callname = substr.substring(0, endpos);\r\n        substr = substr.substr(endpos + 1);\r\n\r\n        var cpadid = null;\r\n        var message = null;\r\n        startpos = substr.indexOf(\":\");\r\n        if (startpos > 0) {\r\n            substr = substr.substr(startpos + 1);\r\n            endpos = substr.indexOf(\",\");\r\n            if (endpos > 0) {\r\n                cpadid = substr.substring(0, endpos);\r\n                substr = substr.substr(endpos + 1);\r\n\r\n                if (substr != null) {\r\n                    startpos = substr.indexOf(\":\");\r\n                    if (startpos > 0) {\r\n                        message = substr.substr(startpos + 1);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        if (isShowLog) {\r\n            printLog(\"===> js handleVokeParams callname: \" + callname);\r\n            printLog(\"===> js handleVokeParams   cpadid: \" + cpadid);\r\n            printLog(\"===> js handleVokeParams  message: \" + message);\r\n        }\r\n        //cc.log(\"===> js onlineDebugReport before function : %s\", callname);\r\n        var canreport = isOnlineReportEnable();\r\n        if (canreport) {\r\n            onlineReportCall(functionNames.Function_Receive_Callback,\r\n                \"CocosJs Receive message, callname:\"+callname+\", cpadid:\"+cpadid);\r\n        }\r\n\r\n\r\n        if (functionNames.Function_Reward_DidLoadFail == callname) {\r\n            if (null != ltvMap.rewardLoadFailCall && typeof ltvMap.rewardLoadFailCall == \"function\") {\r\n                ltvMap.rewardLoadFailCall(cpadid, message);\r\n                ltvMap.resetRewardLoadCallback();\r\n            }\r\n            else {\r\n                printLog(\"===> js rewardLoadFailCall is null or not function\");\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidLoadSuccess == callname) {\r\n            if (null != ltvMap.rewardLoadSuccessCall && typeof ltvMap.rewardLoadSuccessCall == \"function\") {\r\n                ltvMap.rewardLoadSuccessCall(cpadid, message);\r\n                ltvMap.resetRewardLoadCallback();\r\n            }\r\n            else {\r\n                printLog(\"===> rewardLoadSuccessCall is null or not function\");\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidOpen == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_SHOW, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video shown event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video shown event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidClick == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_CLICK, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video clicked event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video clicked event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidClose == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_CLOSE, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video closed event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video closed event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidGivien == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video reward given event.\");\r\n                }\r\n            } else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video reward given event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidAbandon == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video reward cancel event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video reward cancel event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_DidLoadFail == callname) {\r\n            var k = cpadid + \"_Interstitial\";\r\n            var v = ltvMap.get(k);\r\n            if (null != v) {\r\n                var call = v.interstitialLoadFailCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(cpadid, message);\r\n                }\r\n                ltvMap.remove(k);\r\n                printLog(\"===> Interstitial_DidLoadFail at key:\" + k);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_DidLoadSuccess == callname) {\r\n            var k = cpadid + \"_Interstitial\";\r\n            var v = ltvMap.get(k);\r\n            if (null != v) {\r\n                var call = v.interstitialLoadSuccessCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(cpadid, message);\r\n                } else{\r\n                    printLog(\"===> interstitial_didloadsuccess call is null or non-function type at key:\" + k);\r\n                }\r\n                ltvMap.remove(k);\r\n            }\r\n            else {\r\n                printLog(\"===> interstitial_didloadsuccess v is null at key:\" + k);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_Didshow == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            var callReport = false;\r\n            if (null != v) {\r\n                var call = v.interstitialShowCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.INTERSTITIAL_EVENT_DID_SHOW, cpadid);\r\n                    if (canreport) {\r\n                        callReport = true;\r\n                        onlineReportCall(callname, \"CocosJs did run callback on il ad shown event at \" + cpadid, cpadid);\r\n                    }\r\n                }\r\n            }\r\n            if (canreport && callReport == false) {\r\n                onlineReportCall(callname, \"CocosJs not run callback on il ad shown event at \" + cpadid, cpadid);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_Didclose == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            var callReport = false;\r\n            if (null != v) {\r\n                var call = v.interstitialShowCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE, cpadid);\r\n                    if (canreport) {\r\n                        callReport = true;\r\n                        onlineReportCall(callname, \"CocosJs did run callback on il ad closed event at \" + cpadid, cpadid);\r\n                    }\r\n                }\r\n            }\r\n            if (canreport && callReport == false) {\r\n                onlineReportCall(callname, \"CocosJs not run callback on il ad closed event at \" + cpadid, cpadid);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_Didclick == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            var callReport = false;\r\n            if (null != v) {\r\n                var call = v.interstitialShowCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.INTERSTITIAL_EVENT_DID_CLICK, cpadid);\r\n                    if (canreport) {\r\n                        callReport = true;\r\n                        onlineReportCall(callname, \"CocosJs did run callback on il ad clicked event at \" + cpadid, cpadid);\r\n                    }\r\n                }\r\n            }\r\n            if (canreport && callReport == false) {\r\n                onlineReportCall(callname, \"CocosJs not run callback on il ad clicked event at \" + cpadid, cpadid);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Banner_DidRemove == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            if (null != v) {\r\n                var call = v.bannerEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.BANNER_EVENT_DID_REMOVED, cpadid);\r\n                }\r\n            }\r\n            ltvMap.remove(cpadid);\r\n        }\r\n        else if (functionNames.Function_Banner_DidClick == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.bannerEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.BANNER_EVENT_DID_CLICK, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Banner_DidShow == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.bannerEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.BANNER_EVENT_DID_SHOW, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidLoad == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_LOAD, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidLoadFail == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_LOADFAIL, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidShow == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_SHOW, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidClick == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_CLICK, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                if (functionNames.Function_ExitAd_DidShow == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_SHOW, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidClick == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_CLICK, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidClickMore == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_CLICKMORE, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidExit == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_EXIT, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidCancel == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_CANCEL, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n};\r\nfunctionNames.Function_Receive_Callback    = \"receive_callback\";\r\n\r\nfunctionNames.Function_Reward_DidOpen    = \"reward_didopen\";\r\nfunctionNames.Function_Reward_DidClick   = \"reward_didclick\";\r\nfunctionNames.Function_Reward_DidClose   = \"reward_didclose\";\r\nfunctionNames.Function_Reward_DidGivien  = \"reward_didgiven\";\r\nfunctionNames.Function_Reward_DidAbandon = \"reward_didabandon\";\r\n\r\nfunctionNames.Function_Interstitial_Didshow  = \"interstitial_didshow\";\r\nfunctionNames.Function_Interstitial_Didclose = \"interstitial_didclose\";\r\nfunctionNames.Function_Interstitial_Didclick = \"interstitial_didclick\";\r\n\r\nfunctionNames.Function_Banner_DidShow   = \"banner_didshow\";\r\nfunctionNames.Function_Banner_DidClick  = \"banner_didclick\";\r\nfunctionNames.Function_Banner_DidRemove = \"banner_didremove\";\r\n\r\nfunctionNames.Function_Reward_DidLoadFail    = \"reward_didloadfail\";\r\nfunctionNames.Function_Reward_DidLoadSuccess = \"reward_didloadsuccess\";\r\n\r\nfunctionNames.Function_Interstitial_DidLoadFail    = \"interstitial_didloadfail\";\r\nfunctionNames.Function_Interstitial_DidLoadSuccess = \"interstitial_didloadsuccess\";\r\n\r\nfunctionNames.Function_ExitAd_DidShow     = \"exitad_didshow\";\r\nfunctionNames.Function_ExitAd_DidClick    = \"exitad_didclick\";\r\nfunctionNames.Function_ExitAd_DidClickMore = \"exitad_didclickmore\";\r\nfunctionNames.Function_ExitAd_DidExit      = \"exitad_onexit\";\r\nfunctionNames.Function_ExitAd_DidCancel    = \"exitad_oncancel\";\r\n\r\nfunctionNames.Function_Icon_DidLoad = \"icon_didload\";\r\nfunctionNames.Function_Icon_DidLoadFail = \"icon_didloadfail\";\r\nfunctionNames.Function_Icon_DidShow = \"icon_didshow\";\r\nfunctionNames.Function_Icon_DidClick = \"icon_didclick\";\r\n\r\n\r\nvar ltvMap = {\r\n    map :  new Object(),\r\n    length : 0,\r\n    // 激励视屏加载回调\r\n    rewardLoadFailCall    : null,\r\n    rewardLoadSuccessCall : null,\r\n    // 激励视屏展示回调\r\n    rewardShowCall        : null,\r\n    // rewardLoadDidOpenCall    : null,\r\n    // rewardLoadDidClickCall   : null,\r\n    // rewardLoadDidCloseCall   : null,\r\n    // rewardLoadDidGiveCall    : null,\r\n    // rewardLoadDidAbandonCall : null,\r\n    // android平台下定义\r\n    backPressedCall          : null,\r\n    // backPressedDidShowCall   : null,\r\n    // backPressedDidClickCall  : null,\r\n    // backPressedDidExitCall   : null,\r\n    // backPressedDidMoreCall   : null,\r\n    // backPressedDidCancelCall : null,\r\n\r\n    resetRewardLoadCallback : function() {\r\n        this.rewardLoadFailCall = null;\r\n        this.rewardLoadSuccessCall = null;\r\n    },\r\n\r\n    size : function() {\r\n        return this.length;\r\n    },\r\n\r\n    put : function(key, value) {\r\n\r\n        if( !this.map['_' + key])\r\n        {\r\n            ++this.length;\r\n        }\r\n\r\n        this.map['_' + key] = value;\r\n    },\r\n\r\n    remove : function(key) {\r\n        if(this.map['_' + key])\r\n        {\r\n            --this.length;\r\n            return delete this.map['_' + key];\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    exist : function(key) {\r\n        return this.map['_' + key] ? true : false;\r\n    },\r\n\r\n    get: function(key) {\r\n        return this.map['_' + key] ? this.map['_' + key] : null;\r\n    },\r\n\r\n    print : function() {\r\n        var str = '';\r\n\r\n        for(var each in this.map)\r\n        {\r\n            str += '/n' + each + '  Value:'+ this.map[each];\r\n        }\r\n        printLog(\"===> js map : \" + str);\r\n        return str;\r\n    },\r\n\r\n    test : function() {\r\n        this.put('1', function(){});\r\n        this.put('2', function(v){cc.log(\"===> js map function call at 2, v type: %s\", typeof v);});\r\n        this.put('4', function(){});\r\n        printLog(\"===> js map exist 1: \" + this.exist('1'));\r\n        printLog(\"===> js map exist 2: \" + this.exist('3'));\r\n        var value = this.get('2');\r\n        if (value) {\r\n            value(\"========================\");\r\n        }\r\n        this.print();\r\n        this.remove('1');\r\n        this.remove('3');\r\n        printLog(\"===> js map size: \" + this.size());\r\n    }\r\n};\r\n\r\nvar loadJsBridgeObject = function() {\r\n    if (cc.sys.os === cc.sys.OS_IOS && null != upltv) {\r\n        if (undefined == upltv.upltvbridge || upltv.upltvbridge == null) {\r\n            upltv.upltvbridge = upltvoc; ;\r\n        }\r\n    }\r\n    else if (cc.sys.os === cc.sys.OS_ANDROID && null != upltv) {\r\n        if (undefined == upltv.upltvbridge || upltv.upltvbridge == null) {\r\n            upltv.upltvbridge = upltva;\r\n        }\r\n    }\r\n}\r\n\r\nvar bridgeInterface = {\r\n    initSdkSuccessed : false,\r\n    initVokeCall : null,\r\n    // 加载异步回调\r\n    initSdkCallback : function (msg1) {\r\n\r\n        if (msg1 == \"true\" || msg1 == true) {\r\n            this.initSdkSuccessed = true;\r\n        }\r\n\r\n        cc.log(\"===> js initSdkCallback..., %s\", msg1);\r\n        if (undefined != this.initVokeCall && this.initVokeCall != null && typeof this.initVokeCall == \"function\") {\r\n            this.initVokeCall(this.initSdkSuccessed);\r\n        }\r\n\r\n        if (undefined != this.initVokeCall) {\r\n            this.initVokeCall = null;\r\n        }\r\n    },\r\n\r\n    // 回调代理\r\n    vokeMethod : function(params) {\r\n        functionNames.handleVokeParams(params);\r\n    },\r\n\r\n    // 插屏ready异步回调代理\r\n    vokeILReadyMethod : function(cpPlaceId, r) {\r\n        this.handleILReadyMethod(cpPlaceId, r);\r\n    },\r\n\r\n    handleILReadyMethod : function(cpPlaceId, r) {\r\n        //cc.log(\"===> js handleILReadyMethod cpPlaceId: %s, r: %s, type r: %s\", cpPlaceId, r, typeof r);\r\n        var key = \"ILReady_\" + cpPlaceId;\r\n        var call = ltvMap.get(key);\r\n        if (call != null) {\r\n            ltvMap.remove(key);\r\n            if (typeof call == \"function\") {\r\n                var rr = false;\r\n                if (r == \"true\" || r == true) {\r\n                    rr = true;\r\n                }\r\n                call(rr);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// upltv 外部调用对象，提供js api，实现游戏js与adsdk之间的互通\r\n\r\nvar upltv = upltv || {\r\n\r\n    upltvbridge:null,\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK初始化接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    /*\r\n     初始化广告sdk\r\n     请务必优先完成sdk初始化后，才能正常使用SDK的其它API接口\r\n     参数zone：产品发行的区域，0:海外，1:中国大陆，2:自动根据ip定位\r\n     可选参数callback：SDK初始化完成后的回调接口, 回调接口包含一个布尔参数 callback(boolean)，true表示成功，否则失败\r\n    */\r\n    intSdk : function(zone, callback) {\r\n\r\n        if (cc.bridgeInterface.initSdkSuccessed == true) {\r\n            printLog(\"===> js intSdk don't called again with zone:\" + zone);\r\n            return;\r\n        }\r\n        printLog(\"===> js intSdk call with zone: \" + zone);\r\n        if (callback != undefined && callback != null && typeof callback == \"function\") {\r\n            printLog(\"===> js set initVokeCall...\");\r\n            cc.bridgeInterface.initVokeCall = callback;\r\n        }\r\n\r\n        var vokecall = \"cc.bridgeInterface.vokeMethod\";\r\n        var callname = \"cc.bridgeInterface.initSdkCallback\";\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (cc.sys.os === cc.sys.OS_IOS) {\r\n            // this.upltvbridge = upltvoc;\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.setShowLog(isShowLog);\r\n                this.upltvbridge.initIosSDK(zone, vokecall, callname);\r\n            }\r\n        }\r\n        else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            // this.upltvbridge = upltva;\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.setShowLog(isShowLog);\r\n                this.upltvbridge.initAndroidSDK(zone, vokecall, callname);\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK A/B广告测试相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    /*\r\n     进行A/B测试时，先初始化广告配置\r\n     参数 gameAccountId ：        string类型， 用户在游戏中的帐号id（必填）\r\n     参数 isCompleteTask  ：      boolean类型，是否完成了游戏中的新手任务\r\n     参数 isPaid ：               number类型，是否付费用户，0则未付费\r\n     参数 promotionChannelName ： string类型，推广渠道，没有可以传 \"\"\r\n     参数 gender ：               string类型，\"M\", \"F\"，未知可以传\"\"\r\n     参数 age ：                  number类型，未知可以传-1\r\n     参数 tags ：                 Array类型（string数组），标签，没有可以传 null\r\n    */\r\n    initAbtConfigJson : function(gameAccountId, isCompleteTask, isPaid, promotionChannelName, gender, age, tags) {\r\n        var tagstring = null;\r\n        if (undefined != tags && null != tags && tags instanceof Array) {\r\n            var count = tags.length;\r\n            //printLog(\"===> js initAbtConfigJson tags size: \" + count);\r\n            tagstring = \"{\\\"array\\\":[\";\r\n            for (var i = 0; i < count; i++) {\r\n                tagstring +=   \"\\\"\" + tags[i];\r\n                if (i < count - 1)\r\n                    tagstring += \"\\\",\";\r\n                else\r\n                    tagstring += \"\\\"]}\";\r\n            }\r\n            //printLog(\"===> js initAbtConfigJson tags string: \"+ tagstring);\r\n\r\n        }\r\n        if (undefined == isCompleteTask) {\r\n            isCompleteTask = false;\r\n        }\r\n\r\n        if (undefined == isPaid) {\r\n            isPaid = 0;\r\n        }\r\n        //printLog(\"===> js initAbtConfigJson isPaid: \" + isPaid);\r\n        if (undefined == promotionChannelName) {\r\n            promotionChannelName = \"\";\r\n        }\r\n\r\n        if (undefined == gender) {\r\n            gender = \"\";\r\n        }\r\n\r\n        if (undefined == age) {\r\n            age = -1;\r\n        }\r\n\r\n        if (cc.sys.os === cc.sys.OS_IOS) {\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.initIosAbtConfigJson(gameAccountId, isCompleteTask, isPaid, promotionChannelName, gender, age, tagstring);\r\n            }\r\n        }\r\n        else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.initAndroidAbtConfigJson(gameAccountId, isCompleteTask, isPaid, promotionChannelName, gender, age, tagstring);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     完成A/B Testing初始化后，通过此方法获取结果\r\n     为了保证正确获取结果，调用时间建议延后initAbtConfigJson() 2秒以上\r\n     参数 cpPlaceId ：        string类型， 广告位\r\n    */\r\n    getAbtConfig : function(cpPlaceId) {\r\n        if (undefined != cpPlaceId && null != cpPlaceId && typeof cpPlaceId == \"string\") {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                    var r = this.upltvbridge.getIosAbtConfig(cpPlaceId);\r\n                    if (r == \"\") {\r\n                        return null;\r\n                    }\r\n                    else {\r\n                        return r;\r\n                    }\r\n                }\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                    var r = this.upltvbridge.getAndroidAbtConfig(cpPlaceId);\r\n                    if (r == \"\") {\r\n                        return null;\r\n                    }\r\n                    else {\r\n                        return r;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK 激励视屏广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 打开激励视屏的debug界面\r\n    showRewardDebugUI : function() {\r\n        //upltvbridge:showAndroidRewardDebugUI()\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosRewardDebugUI();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidRewardDebugUI();\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置激励视屏加载回调接口\r\n    // 用于监听当前激励视屏的加载结果（成功或失败）\r\n    // 此接口一旦回调，内部会自动释放，再次监听时需要重新设定回调接口\r\n    setRewardVideoLoadCallback : function(loadsuccess, locadfail) {\r\n        //printLog(\"===> js call setRewardVideoLoadCallback\");\r\n        if (undefined == loadsuccess || null == loadsuccess || typeof loadsuccess != \"function\") {\r\n            printLog(\"===> setRewardVideoLoadCallback(), the loadsuccess can't be undefined or null or non-function type.\");\r\n            return;\r\n        }\r\n        if (undefined == locadfail || null == locadfail || typeof locadfail != \"function\") {\r\n            printLog(\"===> setRewardVideoLoadCallback(), the locadfail can't be undefined or null or non-function type.\");\r\n            return;\r\n        }\r\n\r\n        ltvMap.rewardLoadFailCall = locadfail == undefined ? null : locadfail;\r\n        ltvMap.rewardLoadSuccessCall = loadsuccess == undefined ? null : loadsuccess;\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.setIosRewardVideoLoadCallback();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidRewardVideoLoadCallback();\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置激励视屏展示回调接口，用于监听激励视屏广告的在某次展示时诸如点击，关闭，奖励发放等事件回调\r\n    // 展示接口的引用会被内部保存，不会释放\r\n    // 回调接口功能顺序：展示回调，点击回调，关闭回调，激励发放成功回调，激励发放失败回调\r\n    // 回调接口参数：事件类型，广告位，showCall(type, cpadid)\r\n    setRewardVideoShowCallback : function(showCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == showCall || null == showCall || typeof showCall != \"function\") {\r\n                printLog(\"===> setRewardVideoShowCallback(), the showCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            // if (undefined == didClickCall || null == didClickCall || typeof didClickCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didClickCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didCloseCall || null == didCloseCall || typeof didCloseCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didCloseCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didGiveCall || null == didGiveCall || typeof didGiveCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didGiveCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didAbandonCall || null == didAbandonCall || typeof didAbandonCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didAbandonCall can't be undefined or null or non-function type.\");\r\n            //     return\r\n            // }\r\n            ltvMap.rewardShowCall = showCall;\r\n            //ltvMap.rewardLoadDidOpenCall = didOpenCall == undefined ? null : didOpenCall;\r\n            //ltvMap.rewardLoadDidClickCall = didClickCall == undefined ? null : didClickCall;\r\n            //ltvMap.rewardLoadDidCloseCall = didCloseCall == undefined ? null : didCloseCall;\r\n            //ltvMap.rewardLoadDidGiveCall = didGiveCall == undefined ? null : didGiveCall;\r\n            //ltvMap.rewardLoadDidAbandonCall = didAbandonCall == undefined ? null : didAbandonCall;\r\n        }\r\n\r\n    },\r\n\r\n    // 判断激励视屏是否准备好\r\n    // 同步返回boolean结果，true 表示广告准备就绪可以展示，false表示广告还在请求中无法展示\r\n    // 通常在showRewardVideo(cpPlaceId)前，调用此方法\r\n    isRewardReady : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                return this.upltvbridge.isIosRewardReady();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                return this.upltvbridge.isAndroidRewardReady();\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    // 展示激励视屏\r\n    // 参数cpPlaceId：激励视屏展示时的广告位，用于业务打点，便于区分收益来源\r\n    showRewardVideo : function(cpPlaceId) {\r\n        //printLog(\"===> showIosRewardVideo : \" + cpPlaceId);\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId) {\r\n                cpPlaceId = null;\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosRewardVideo(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                //printLog(\"===> showAndroidRewardVideo \"+ cpPlaceId);\r\n                this.upltvbridge.showAndroidRewardVideo(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK 插屏广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n\r\n    // 根据广告位，判断某个插屏广告是否准备就绪\r\n    // 异步返回boolean结果，true 表示广告准备就绪可以展示，false表示广告还在请求中无法展示\r\n    // 参数cpPlaceId：广告位\r\n    // 参数callback：回调接口，如callback(true) 或 callback(false)\r\n    isInterstitialReadyAsyn : function(cpPlaceId, callback) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"Please set the Paramer cpPlaceId's value in function isInterstitialReadyAsyn()\");\r\n                return;\r\n            }\r\n            if (callback == cpPlaceId || null == callback) {\r\n                printLog(\"Please set the Paramer callback's value in function isInterstitialReadyAsyn()\");\r\n                return;\r\n            }\r\n\r\n            if (typeof callback != \"function\") {\r\n                printLog(\"The Paramer 'callback' is  non-function type in function isInterstitialReadyAsyn()\");\r\n                return;\r\n            }\r\n\r\n            var key = \"ILReady_\" + cpPlaceId;\r\n            ltvMap.put(key, callback);\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.isIosInterstitialReadyAsyn(cpPlaceId, \"cc.bridgeInterface.vokeILReadyMethod\");\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.isAndroidInterstitialReadyAsyn(cpPlaceId, \"cc.bridgeInterface.vokeILReadyMethod\");\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    // 根据广告位，判断某个插屏广告是否准备就绪\r\n    // 同步返回boolean结果，true 表示广告准备就绪可以展示，false表示广告还在请求中无法展示\r\n    // 参数cpPlaceId：广告位\r\n    isInterstitialReady : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> isInterstitialReady(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                return this.upltvbridge.isIosInterstitialReady(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                return this.upltvbridge.isAndroidInterstitialReady(cpPlaceId);\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    // 根据广告位，展示某个插屏广告\r\n    showInterstitialAd : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"Please set the Paramer cpPlaceId's value in function showInterstitialAd()\");\r\n                return;\r\n            }\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosInterstitialAd(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidInterstitialAd(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 根据广告位，设置某个插屏广告加载回调接口\r\n    // 用于监听插屏广告的加载结果（成功或失败）\r\n    // 此接口一旦回调，内部会自动释放，再次监听时需要重新设定回调接口\r\n    setInterstitialLoadCallback : function(cpPlaceId, loadsuccess, locadfail) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setIntersitialLoadCall(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == loadsuccess || null == loadsuccess || typeof loadsuccess != \"function\") {\r\n                printLog(\"===> setIntersitialLoadCall(), the loadsuccess can't be undefined or null or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == locadfail || null == locadfail || typeof locadfail != \"function\") {\r\n                printLog(\"===> setIntersitialLoadCall(), the locadfail can't be undefined or null or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            var k = cpPlaceId + \"_Interstitial\";\r\n            var v = ltvMap.get(k) || {};\r\n            v.interstitialLoadSuccessCall = loadsuccess;\r\n            v.interstitialLoadFailCall = locadfail;\r\n            ltvMap.put(k, v);\r\n            printLog(\"===> setIntersitialLoadCall() ltvMap size: \" + ltvMap.size());\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.setIosInterstitialLoadCallback(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidInterstitialLoadCallback(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置插屏广告展示时的回调接口，用于监听插屏广告的在某次展示时诸如点击，关闭等事件回调\r\n    // 插件展示回调接口的引用会被内部保存，不会释放\r\n    // 回调接口功能顺序：展示回调，点击回调，关闭回调\r\n    // 回调接口参数：事件类型，广告位，showCall(type, cpPlaceId)\r\n    setInterstitialShowCallback : function(cpPlaceId, showCall) {\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setInterstitialShowCallback(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == showCall || null == showCall || typeof showCall != \"function\") {\r\n                printLog(\"===> setInterstitialShowCallback(), the showCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            // if (undefined == didClickCall || null == didClickCall || typeof didClickCall != \"function\") {\r\n            //     cc.log(\"===> setInterstitialShowCallback(), the didClickCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didCloseCall || null == didCloseCall || typeof didCloseCall != \"function\") {\r\n            //     cc.log(\"===> setInterstitialShowCallback(), the didCloseCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            var k = cpPlaceId;\r\n            var v = ltvMap.get(k) || {};\r\n            v.interstitialShowCall = showCall;\r\n            // v.interstitialDidShowCall = didShowCall;\r\n            // v.interstitialDidClickCall = didClickCall;\r\n            // v.interstitialDidCloseCall = didCloseCall;\r\n\r\n            ltvMap.put(k, v)\r\n            //printLog(\"===> setInterstitialShowCallback() ltvMap size: \" + ltvMap.size());\r\n        }\r\n    },\r\n\r\n    showInterstitialDebugUI : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosInterstitialDebugUI();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidInterstitialDebugUI();\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Banner广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 移除某个广告位的banner广告\r\n    removeBannerAdAt : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> removeBannerAdAt(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.removeIosBannerAdAt(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.removeAndroidBannerAdAt(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 将某个广告位的banner广告展示在屏幕顶部\r\n    showBannerAdAtTop : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> showBannerAdAtTop(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosBannerAdAtTop(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidBannerAdAtTop(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 将某个广告位的banner广告展示在屏幕底部\r\n    showBannerAdAtBottom : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> showBannerAdAtBottom(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosBannerAdAtBottom(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidBannerAdAtBottom(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 隐藏当前屏幕的顶部banner广告\r\n    hideBannerAdAtTop : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.hideIosBannerAdAtTop();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.hideAndroidBannerAdAtTop();\r\n            }\r\n        }\r\n    },\r\n\r\n    // 隐藏当前屏幕的底部广告\r\n    hideBannerAdAtBottom : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.hideIosBannerAdAtBottom();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.hideAndroidBannerAdAtBottom();\r\n            }\r\n        }\r\n    },\r\n\r\n    setTopBannerPadingForIphoneX : function(padding) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.setIosTopBannerPading(padding);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置某个banner广告位的展示的回调接口，回调接口会被保存只有调用upltv:removeBannerAdAt(cpPlaceId)才会被删除\r\n    // 参数cpPlaceId：banner广告位\r\n    // 参数bannerCall：banner回调接口\r\n    // 回调接口参数：事件类型，广告位，bannerCall(type, cpPlaceId)\r\n    setBannerShowCallback : function(cpPlaceId, bannerCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setBannerShowCallback(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == bannerCall || null == bannerCall || typeof bannerCall != \"function\") {\r\n                printLog(\"===> setBannerShowCallback(), the bannerCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            // if (undefined == didClickCall || null == didClickCall || typeof didClickCall != \"function\") {\r\n            //     printLog(\"===> setBannerShowCallback(), the didClickCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined != didRemoveCall && null != didRemoveCall && typeof didRemoveCall != \"function\") {\r\n            //     printLog(\"===> setBannerShowCallback(), the didRemoveCall may be undefined or null, but can't be non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            var v = ltvMap.get(cpPlaceId) || {};\r\n            v.bannerEventCall = bannerCall;\r\n            // v.bannerDidShowCall = didShowCall;\r\n            // v.bannerDidClickCall = didClickCall;\r\n            // if (undefined != didRemoveCall && null != didRemoveCall) {\r\n            //     v.bannerDidRemoveCall = didRemoveCall;\r\n            // }\r\n\r\n            ltvMap.put(cpPlaceId, v);\r\n\r\n            //printLog(\"===> setBannerShowCallback() ltvMap size: \" + ltvMap.size());\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Icon广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 设置某个icon广告位的展示的回调接口，回调接口会被保存只有调用upltv:removeIconAd(cpPlaceId)才会被删除\r\n    // 参数cpPlaceId：icon广告位\r\n    // 参数bannerCall：icon回调接口\r\n    // 回调接口参数：事件类型，广告位，iconCall(type, cpPlaceId)\r\n    setIconCallback: function (cpPlaceId, iconCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setIconCallback(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == iconCall || null == iconCall || typeof iconCall != \"function\") {\r\n                printLog(\"===> setIconCallback(), the iconCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            var v = ltvMap.get(cpPlaceId) || {};\r\n            v.iconEventCall = iconCall;\r\n\r\n            ltvMap.put(cpPlaceId, v);\r\n        }\r\n    },\r\n\r\n    // 展示icon广告\r\n    showIconAd: function (x,y,width,height,rotationAngle,cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> showIconAd(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosIconAdAt(x,y,width,height,rotationAngle,cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 移除icon广告\r\n    removeIconAd: function (cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> removeIconAd(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.removeIosIconAdAt(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK 手动控制Upltv广告的加载\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 满足需求：不希望在初始化自动加载广告，且要求根据游戏自主选择合适的时机进行广告加载\r\n    // 设置条件：当sdk默认禁用广告自动加载的功能，且upltv后台云配也关闭此功能时\r\n    // 如果以上条件不成立，即使调用以下方法，SDK也会自动忽略\r\n    loadAdsByManual : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.loadIosAdsByManual();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.loadAndroidAdsByManual();\r\n            }\r\n        }\r\n    },\r\n\r\n    exitApp : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.exitIosApp();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.exitAndroidApp();\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Android平台 特殊接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 仅用于android平台\r\n    // 当mainifest的packagename与实际的名字不一致时，需要通过此方法设置当前Manifest中定义的PackageName\r\n    setManifestPackageName : function(pkg) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidManifestPackageName(pkg);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 仅用于android平台\r\n    // 用于展示upltv在安卓平台的退出广告\r\n    onBackPressed : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.onAndroidBackPressed();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 向统计包的传递CustomerId(仅Android支持，对于非GP的包，可以传androidid)\r\n    // Version 3004(subversion 5) and above support this method\r\n    setCustomerId : function(androidid) {\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                if (undefined == androidid || null == androidid) {\r\n                    printLog(\"===> setCustomerId(), the anroidid can't be null\");\r\n                    return;\r\n                }\r\n\r\n                this.upltvbridge.setAndroidCustomerId(androidid);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置激退出广告回调接口，用于监听退出广告的在某次展示时如打开，点击，关闭等事件回调\r\n    // 展示接口的引用会被内部保存，不会释放\r\n    // 回调接口功能顺序：广告展示回调，点击回调，退出回调，更多广告回调，取消回调\r\n    // 回调接口参数：事件类型，消息，如backCall(type, message)调用\r\n    setBackPressedCallback : function(backCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                ltvMap.backPressedCall = backCall == undefined ? null : backCall;\r\n                // ltvMap.backPressedDidShowCall = didShowCall == undefined ? null : didShowCall;\r\n                // ltvMap.backPressedDidClickCall = didClickCall == undefined ? null : didClickCall;\r\n                // ltvMap.backPressedDidExitCall = didExitCall == undefined ? null : didExitCall;\r\n                // ltvMap.backPressedDidMoreCall = didMoreCall == undefined ? null : didMoreCall;\r\n                // ltvMap.backPressedDidCancelCall = didCancelCall == undefined ? null : didCancelCall;\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK GDPR接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n\r\n    // 外部进行GDPR授权时，将用户授权结果同步到UPSDK时，调用此方法\r\n    // 请在初始UPSDK之前调用\r\n    // @param gdprPermissionEnumValue，取upltv.GDPRPermissionEnum定义的值\r\n    // Version 3003 and above support this method\r\n    updateAccessPrivacyInfoStatus : function(gdprPermissionEnumValue) {\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined == gdprPermissionEnumValue || null == gdprPermissionEnumValue) {\r\n            printLog(\"===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue can't be null\");\r\n            return;\r\n        }\r\n\r\n        if (gdprPermissionEnumValue != upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown\r\n            && gdprPermissionEnumValue != upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted\r\n            && gdprPermissionEnumValue != upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined) {\r\n            printLog(\"===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue is a wrong type.\");\r\n            return;\r\n        }\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.updateAndroidAccessPrivacyInfoStatus(gdprPermissionEnumValue);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.updateIosAccessPrivacyInfoStatus(gdprPermissionEnumValue);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 获取当前GDPR授权状态，返回GDPRPermissionEnum枚举值\r\n    // 可在初始UPSDK之前调用\r\n    // Version 3003 and above support this method\r\n    getAccessPrivacyInfoStatus : function() {\r\n        loadJsBridgeObject();\r\n        var status = 0;\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                status = this.upltvbridge.getAndroidAccessPrivacyInfoStatus();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                status = this.upltvbridge.getIosAccessPrivacyInfoStatus();\r\n            }\r\n        }\r\n\r\n        if (status == 1) {\r\n            return upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted;\r\n        } else if (status == 2) {\r\n            return upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined;\r\n        } else {\r\n            return upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown;\r\n        }\r\n    },\r\n\r\n    // 弹出授权窗口，向用户说明重要数据收集的情况并询问用户是否同意授权\r\n    // 如果用户拒绝授权将放弃相关数据的收集\r\n    // 请在初始化UPSDK之前调用\r\n    // @param callback\r\n    // Version 3003 and above support this method\r\n    notifyAccessPrivacyInfoStatus : function(callback) {\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined == callback || null == callback) {\r\n            printLog(\"===> notifyAccessPrivacyInfoStatus(), the callback can't be null.\");\r\n            return;\r\n        }\r\n\r\n        if ( typeof callback != \"function\") {\r\n            printLog(\"===> notifyAccessPrivacyInfoStatus(), the callback must be function.\");\r\n            return;\r\n        }\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            upltv.GDPRPermissionEnum.functionId = upltv.GDPRPermissionEnum.functionId + 1;\r\n            var callId = upltv.GDPRPermissionEnum.functionId;\r\n            var key = \"\" + callId;\r\n            ltvMap.put(key, callback);\r\n            var call = \"upltv.GDPRPermissionEnum.javaCall\";\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.notifyAndroidAccessPrivacyInfoStatus(call, callId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.notifyIosAccessPrivacyInfoStatus(call, key);\r\n            }\r\n        }\r\n    },\r\n\r\n    isEuropeanUnionUser : function(callback) {\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined == callback || null == callback) {\r\n            printLog(\"===> isEuropeanUnionUser(), the callback can't be null.\");\r\n            return;\r\n        }\r\n\r\n        if ( typeof callback != \"function\") {\r\n            printLog(\"===> isEuropeanUnionUser(), the callback must be function.\");\r\n            return;\r\n        }\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            upltv.GDPRPermissionEnum.functionId = upltv.GDPRPermissionEnum.functionId + 1;\r\n            var callId = upltv.GDPRPermissionEnum.functionId;\r\n            var key = \"\" + callId;\r\n            ltvMap.put(key, callback);\r\n            var call = \"upltv.GDPRPermissionEnum.javaCall\";\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.isAndroidEuropeanUnionUser(call, callId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.isIosEuropeanUnionUser(call, key);\r\n            }\r\n        }\r\n    },\r\n\r\n    isOnlineDebugReportEnable : function() {\r\n        if (cc.sys.os === cc.sys.OS_ANDROID\r\n            || cc.sys.os === cc.sys.OS_IOS) {\r\n            return this.upltvbridge.isOnlineDebugReportEnable();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    onlineDebugReport : function(callname, msg, cpid) {\r\n        if (cc.sys.os === cc.sys.OS_ANDROID\r\n            || cc.sys.os === cc.sys.OS_IOS) {\r\n                //cc.log(\"===> js onlineDebugReport function : %s\", callname);\r\n                if (functionNames.Function_Receive_Callback == callname) {\r\n                    this.upltvbridge.reportIvokePluginMethodReceive(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidOpen == callname) {\r\n                    this.upltvbridge.reportRDShowDid(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidClick == callname) {\r\n                    this.upltvbridge.reportRDRewardClick(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidClose == callname) {\r\n                    this.upltvbridge.reportRDRewardClose(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidGivien == callname) {\r\n                    this.upltvbridge.reportRDRewardGiven(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidAbandon == callname) {\r\n                    this.upltvbridge.reportRDRewardCancel(msg);\r\n                }\r\n                else if (functionNames.Function_Interstitial_Didshow == callname) {\r\n                    this.upltvbridge.reportILShowDid(msg, cpid);\r\n                }\r\n                else if (functionNames.Function_Interstitial_Didclick == callname) {\r\n                    this.upltvbridge.reportILClick(msg, cpid);\r\n                }\r\n                else if (functionNames.Function_Interstitial_Didclose == callname) {\r\n                    this.upltvbridge.reportILClose(msg, cpid);\r\n                }\r\n        }\r\n    }\r\n\r\n};\r\n\r\nupltv.GDPRPermissionEnum = {\r\n    functionId : 0,\r\n    javaCall : function(callId, value) {\r\n        var key = \"\" + callId;\r\n        var call = ltvMap.get(key);\r\n        if (null != call) {\r\n            if (null != call && typeof call == \"function\") {\r\n                call(value);\r\n            }\r\n            ltvMap.remove(key);\r\n        }\r\n    }\r\n};\r\n\r\nupltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown  = 0;\r\nupltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted  = 1;\r\nupltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined  = 2;\r\n\r\nupltv.AdEventType = {};\r\n// 激励视屏回调事件类型\r\nupltv.AdEventType.VIDEO_EVENT_DID_SHOW = 0;\r\nupltv.AdEventType.VIDEO_EVENT_DID_CLICK = 1;\r\nupltv.AdEventType.VIDEO_EVENT_DID_CLOSE = 2;\r\nupltv.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD = 3;\r\nupltv.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD = 4;\r\n\r\n// 插屏回调事件类型\r\nupltv.AdEventType.INTERSTITIAL_EVENT_DID_SHOW = 5;\r\nupltv.AdEventType.INTERSTITIAL_EVENT_DID_CLICK = 6;\r\nupltv.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE = 7;\r\n\r\n// Banner广告事件类型\r\nupltv.AdEventType.BANNER_EVENT_DID_SHOW = 8;\r\nupltv.AdEventType.BANNER_EVENT_DID_CLICK = 9;\r\nupltv.AdEventType.BANNER_EVENT_DID_REMOVED = 10;\r\n\r\n// exit 广告事件类型\r\nupltv.AdEventType.EXITAD_EVENT_DID_SHOW = 11;\r\nupltv.AdEventType.EXITAD_EVENT_DID_CLICK = 12;\r\nupltv.AdEventType.EXITAD_EVENT_DID_CLICKMORE = 13;\r\nupltv.AdEventType.EXITAD_EVENT_DID_EXIT = 14;\r\nupltv.AdEventType.EXITAD_EVENT_DID_CANCEL = 15;\r\n\r\n// icon广告事件类型\r\nupltv.AdEventType.ICON_EVENT_DID_LOAD = 16;\r\nupltv.AdEventType.ICON_EVENT_DID_LOADFAIL = 17;\r\nupltv.AdEventType.ICON_EVENT_DID_SHOW = 18;\r\nupltv.AdEventType.ICON_EVENT_DID_CLICK = 19;\r\n\r\nmodule.exports.upltv = upltv;\r\nmodule.exports.bridgeInterface = bridgeInterface;\r\n"]}